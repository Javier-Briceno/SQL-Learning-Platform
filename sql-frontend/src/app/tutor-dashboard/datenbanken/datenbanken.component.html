<div class="db-management-container">
  <h2>Alle Datenbanken:</h2>

  <!-- Button zum manuellen Aktualisieren der Liste -->
  <button (click)="loadDatabases()" [disabled]="isLoading" class="refresh-button">
    <span *ngIf="isLoading">Lade...</span>
    <span *ngIf="!isLoading">Datenbankliste aktualisieren</span>
  </button>

  <!-- Liste der Datenbanken -->
  <ul *ngIf="!isLoading && databases.length > 0 && !errorMsg" class="database-list">
    <li *ngFor="let db of databases" class="database-item">
      <span class="db-name">{{ db }}</span>
      <button (click)="onShowDatabase(db)" [disabled]="isLoading" class="show-db-button">
        Anzeigen
      </button>
      <button (click)="onDeleteDatabase(db)" [disabled]="isLoading" class="delete-db-button">
        Löschen
      </button>
    </li>
  </ul>

  <!-- Fehlermeldung: -->
  <p *ngIf="!isLoading && databases.length === 0 && !errorMsg" class="no-databases-message">
    Keine selbst erstellten Datenbanken gefunden.
  </p>

  <!-- Datenbank-Inhalt anzeigen -->
  <div *ngIf="selectedDbContent" class="db-content-view">
  <h3>Inhalt von {{ selectedDbName }}</h3>
  <div *ngFor="let table of selectedDbContent">
    <h4>{{ table.name }}</h4>
    <div class="table-scroll-x">
      <table>
        <thead>
          <tr>
            <th *ngFor="let col of table.columns">{{ col }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of table.rows">
            <td *ngFor="let col of table.columns">{{ row[col] }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <button (click)="closeDbContent()" class="close-db-content-btn">Schließen</button>
</div>
</div>